<!doctype html><html lang="zh-CN"><head><meta charset="utf-8" /><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="generator" content="VuePress 2.0.0-rc.23" /><meta name="theme" content="VuePress Theme Plume 1.0.0-rc.154" /><script id="check-mac-os">document.documentElement.classList.toggle('mac', /Mac|iPhone|iPod|iPad/i.test(navigator.platform))</script><script id="check-dark-mode">;(function () {const um= localStorage.getItem('vuepress-theme-appearance') || 'auto';const sm = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;const isDark = um === 'dark' || (um !== 'light' && sm);document.documentElement.dataset.theme = isDark ? 'dark' : 'light';})();</script><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"SSH \"端口三剑客\"（-L、-R、-D参数的妙用）","image":["https://r2-hugo.dudleya.cc/03_Linux/ssh_forwarding_jupyterlab.png"],"dateModified":null,"author":[]}</script><meta property="og:url" content="https://meteor-oxalis3.com/article/v444aags/"><meta property="og:site_name" content="Meteor03's Oxalis Garden"><meta property="og:title" content="SSH "端口三剑客"（-L、-R、-D参数的妙用）"><meta property="og:description" content="0. 前言 在刚开始学习使用 Linux 的时候，大家几乎都是使用 OpenSSH 的 ssh 命令登录到服务器的吧~ 在我使用 Linux 学习、开发，以及日常逛知乎的过程中，有缘接触到了 SSH "端口三剑客" 的使用，在此分享给大家。 1. 远程端口转发到本地（参数 -L） 有的时候在服务器上开启了一个端口服务（例如：Jupyter Lab），可..."><meta property="og:type" content="article"><meta property="og:image" content="https://r2-hugo.dudleya.cc/03_Linux/ssh_forwarding_jupyterlab.png"><meta property="og:locale" content="zh-CN"><meta property="article:tag" content="proxy"><meta property="article:tag" content="ssh"><meta property="article:tag" content="openssh"><meta property="article:tag" content="Linux"><link rel="icon" href="/favicon.png"><title>SSH "端口三剑客"（-L、-R、-D参数的妙用） | Meteor03's Oxalis Garden</title><meta name="description" content="0. 前言 在刚开始学习使用 Linux 的时候，大家几乎都是使用 OpenSSH 的 ssh 命令登录到服务器的吧~ 在我使用 Linux 学习、开发，以及日常逛知乎的过程中，有缘接触到了 SSH "端口三剑客" 的使用，在此分享给大家。 1. 远程端口转发到本地（参数 -L） 有的时候在服务器上开启了一个端口服务（例如：Jupyter Lab），可..."><link rel="preload" href="/assets/style-Dm_guSei.css" as="style"><link rel="stylesheet" href="/assets/style-Dm_guSei.css"><link rel="modulepreload" href="/assets/app-CdJGwZO9.js"><link rel="modulepreload" href="/assets/index.html-DKNGTO9H.js"></head><body><div id="app"><!--[--><!--[--><div class="theme-plume vp-layout" vp-container data-v-c8986221><!--[--><!--[--><!--]--><!--[--><span tabindex="-1" data-v-ea102df3></span><a href="#VPContent" class="vp-skip-link visually-hidden" data-v-ea102df3> Skip to content </a><!--]--><!----><header class="vp-nav" data-v-c8986221 data-v-39cdd3ad><div class="vp-navbar" vp-navbar data-v-39cdd3ad data-v-8b54d99f><div class="wrapper" data-v-8b54d99f><div class="container" data-v-8b54d99f><div class="title" data-v-8b54d99f><div class="vp-navbar-title" data-v-8b54d99f data-v-7abfbdfe><a class="vp-link link no-icon title" href="/" data-v-7abfbdfe><!--[--><!--[--><!--]--><!--[--><!--[--><!--[--><img class="vp-image dark logo" style="" src="/favicon.png" alt data-v-5ed9897e><!--]--><!--[--><img class="vp-image light logo" style="" src="/favicon.png" alt data-v-5ed9897e><!--]--><!--]--><!--]--><span data-v-7abfbdfe>Meteor03&#39;s Oxalis Garden</span><!--[--><!--]--><!--]--><!----></a></div></div><div class="content" data-v-8b54d99f><div class="content-body" data-v-8b54d99f><!--[--><!--]--><div class="vp-navbar-search search" data-v-8b54d99f><div class="search-wrapper" data-v-94a3b7a3><!----><div id="local-search" data-v-94a3b7a3><button type="button" class="mini-search mini-search-button" aria-label="搜索文档" data-v-94a3b7a3><span class="mini-search-button-container"><span class="mini-search-search-icon vpi-mini-search" aria-label="search icon"></span><span class="mini-search-button-placeholder">搜索文档</span></span><span class="mini-search-button-keys"><kbd class="mini-search-button-key"></kbd><kbd class="mini-search-button-key">K</kbd></span></button></div></div></div><!--[--><!--]--><nav aria-labelledby="main-nav-aria-label" class="vp-navbar-menu menu" data-v-8b54d99f data-v-b3d3a0fa><span id="main-nav-aria-label" class="visually-hidden" data-v-b3d3a0fa>Main Navigation</span><!--[--><!--[--><a class="vp-link link navbar-menu-link" href="/" tabindex="0" data-v-b3d3a0fa data-v-4f87413e><!--[--><!----><span data-v-4f87413e>首页</span><!----><!--]--><!----></a><!--]--><!--[--><a class="vp-link link navbar-menu-link" href="/Project/" tabindex="0" data-v-b3d3a0fa data-v-4f87413e><!--[--><!----><span data-v-4f87413e>毕设</span><!----><!--]--><!----></a><!--]--><!--[--><a class="vp-link link navbar-menu-link" href="/NGS/" tabindex="0" data-v-b3d3a0fa data-v-4f87413e><!--[--><!----><span data-v-4f87413e>NGS</span><!----><!--]--><!----></a><!--]--><!--[--><a class="vp-link link navbar-menu-link" href="/R/" tabindex="0" data-v-b3d3a0fa data-v-4f87413e><!--[--><!----><span data-v-4f87413e>R</span><!----><!--]--><!----></a><!--]--><!--[--><a class="vp-link link navbar-menu-link" href="/about/" tabindex="0" data-v-b3d3a0fa data-v-4f87413e><!--[--><!----><span data-v-4f87413e>关于</span><!----><!--]--><!----></a><!--]--><!--[--><a class="vp-link link navbar-menu-link" href="https://meteor-oxalis3.github.io" target="_blank" rel="noreferrer" tabindex="0" data-v-b3d3a0fa data-v-4f87413e><!--[--><!----><span data-v-4f87413e>朝花夕拾</span><!----><!--]--><span class="vpi-external-link"></span></a><!--]--><!--]--></nav><!--[--><!--]--><!----><div class="vp-navbar-appearance appearance" data-v-8b54d99f data-v-754b194f><button class="vp-switch vp-switch-appearance" type="button" role="switch" title aria-checked="false" data-v-754b194f data-v-46c5e098 data-v-831817f4><span class="check" data-v-831817f4><span class="icon" data-v-831817f4><!--[--><span class="vpi-sun sun" data-v-46c5e098></span><span class="vpi-moon moon" data-v-46c5e098></span><!--]--></span></span></button></div><div class="vp-social-links vp-navbar-social-links social-links" data-v-8b54d99f data-v-f2820824 data-v-15243658><!--[--><a class="vp-social-link no-icon" href="https://github.com/Meteor-oxalis3" aria-label="github" target="_blank" rel="noopener" data-v-15243658 data-v-0214ba09><span class="vpi-social-github" /></a><!--]--></div><div class="vp-flyout vp-navbar-extra extra" data-v-8b54d99f data-v-68f85641 data-v-c048ffb1><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-c048ffb1><span class="vpi-more-horizontal icon" data-v-c048ffb1></span></button><div class="menu" data-v-c048ffb1><div class="vp-menu" data-v-c048ffb1 data-v-e576aed3><!----><!--[--><!--[--><!----><div class="group" data-v-68f85641><div class="item appearance" data-v-68f85641><p class="label" data-v-68f85641>外观</p><div class="appearance-action" data-v-68f85641><button class="vp-switch vp-switch-appearance" type="button" role="switch" title aria-checked="false" data-v-68f85641 data-v-46c5e098 data-v-831817f4><span class="check" data-v-831817f4><span class="icon" data-v-831817f4><!--[--><span class="vpi-sun sun" data-v-46c5e098></span><span class="vpi-moon moon" data-v-46c5e098></span><!--]--></span></span></button></div></div></div><div class="group" data-v-68f85641><div class="item social-links" data-v-68f85641><div class="vp-social-links social-links-list" data-v-68f85641 data-v-15243658><!--[--><a class="vp-social-link no-icon" href="https://github.com/Meteor-oxalis3" aria-label="github" target="_blank" rel="noopener" data-v-15243658 data-v-0214ba09><span class="vpi-social-github" /></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="vp-navbar-hamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="nav-screen" data-v-8b54d99f data-v-f70c8357><span class="container" data-v-f70c8357><span class="top" data-v-f70c8357></span><span class="middle" data-v-f70c8357></span><span class="bottom" data-v-f70c8357></span></span></button></div></div></div></div><div class="divider" data-v-8b54d99f><div class="divider-line" data-v-8b54d99f></div></div></div><!----></header><div class="vp-local-nav fixed reached-top is-blog" data-v-c8986221 data-v-fd94763f><button class="hidden menu" disabled aria-expanded="false" aria-controls="SidebarNav" data-v-fd94763f><span class="vpi-align-left menu-icon" data-v-fd94763f></span><span class="menu-text" data-v-fd94763f>Menu</span></button><div class="vp-local-nav-outline-dropdown" style="--vp-vh:0px;" data-v-fd94763f data-v-af974763><button data-v-af974763>返回顶部</button><!----></div></div><!----><!--[--><div id="VPContent" vp-content class="vp-content" data-v-c8986221 data-v-092a0983><div class="vp-doc-container is-blog" data-v-092a0983 data-v-90e52d01><!--[--><!--]--><div class="container" data-v-90e52d01><!----><div class="content" data-v-90e52d01><div class="content-container" data-v-90e52d01><!--[--><!--]--><main class="main" data-v-90e52d01><nav class="vp-breadcrumb" data-v-90e52d01 data-v-7495d033><ol vocab="https://schema.org/" typeof="BreadcrumbList" data-v-7495d033><!--[--><li property="itemListElement" typeof="ListItem" data-v-7495d033><a class="vp-link link breadcrumb" href="/" property="item" typeof="WebPage" data-v-7495d033><!--[-->首页<!--]--><!----></a><span class="vpi-chevron-right" data-v-7495d033></span><meta property="name" content="首页" data-v-7495d033><meta property="position" content="1" data-v-7495d033></li><li property="itemListElement" typeof="ListItem" data-v-7495d033><a class="vp-link link breadcrumb" href="/blog/" property="item" typeof="WebPage" data-v-7495d033><!--[-->博客<!--]--><!----></a><span class="vpi-chevron-right" data-v-7495d033></span><meta property="name" content="博客" data-v-7495d033><meta property="position" content="2" data-v-7495d033></li><li property="itemListElement" typeof="ListItem" data-v-7495d033><a class="vp-link link breadcrumb" href="/blog/categories/?id=edc9f0" property="item" typeof="WebPage" data-v-7495d033><!--[-->Linux<!--]--><!----></a><span class="vpi-chevron-right" data-v-7495d033></span><meta property="name" content="Linux" data-v-7495d033><meta property="position" content="3" data-v-7495d033></li><li property="itemListElement" typeof="ListItem" data-v-7495d033><a class="vp-link link breadcrumb current" href="/article/v444aags/" property="item" typeof="WebPage" data-v-7495d033><!--[-->SSH &quot;端口三剑客&quot;（-L、-R、-D参数的妙用）<!--]--><!----></a><!----><meta property="name" content="SSH &quot;端口三剑客&quot;（-L、-R、-D参数的妙用）" data-v-7495d033><meta property="position" content="4" data-v-7495d033></li><!--]--></ol></nav><!--[--><!--]--><!--[--><h1 class="vp-doc-title page-title" data-v-63d5a5c7>SSH &quot;端口三剑客&quot;（-L、-R、-D参数的妙用） <!----></h1><div class="vp-doc-meta" data-v-63d5a5c7><!--[--><!--]--><p class="reading-time" data-v-63d5a5c7><span class="vpi-books icon" data-v-63d5a5c7></span><span data-v-63d5a5c7>约 2346 字</span><span data-v-63d5a5c7>大约 8 分钟</span></p><p data-v-63d5a5c7><span class="vpi-tag icon" data-v-63d5a5c7></span><!--[--><a class="vp-link link tag vp-tag-ky8i" href="/blog/tags/?tag=Linux" data-v-63d5a5c7><!--[-->Linux<!--]--><!----></a><a class="vp-link link tag vp-tag-izyq" href="/blog/tags/?tag=openssh" data-v-63d5a5c7><!--[-->openssh<!--]--><!----></a><a class="vp-link link tag vp-tag-wn8q" href="/blog/tags/?tag=ssh" data-v-63d5a5c7><!--[-->ssh<!--]--><!----></a><a class="vp-link link tag vp-tag-ky8i" href="/blog/tags/?tag=proxy" data-v-63d5a5c7><!--[-->proxy<!--]--><!----></a><!--]--></p><!--[--><!--]--><p class="create-time" data-v-63d5a5c7><span class="vpi-clock icon" data-v-63d5a5c7></span><span data-v-63d5a5c7>2026-01-01</span></p></div><!--]--><!--[--><!--]--><div class="_article_v444aags_ external-link-icon-enabled vp-doc plume-content" vp-content data-v-90e52d01><!--[--><!--]--><div data-v-90e52d01><h2 id="_0-前言" tabindex="-1"><a class="header-anchor" href="#_0-前言"><span>0. 前言</span></a></h2><ul><li>在刚开始学习使用 Linux 的时候，大家几乎都是使用 <code>OpenSSH</code> 的 <code>ssh</code> 命令登录到服务器的吧~</li><li>在我使用 Linux 学习、开发，以及日常逛知乎的过程中，有缘接触到了 SSH &quot;端口三剑客&quot; 的使用，在此分享给大家。</li></ul><h2 id="_1-远程端口转发到本地-参数-l" tabindex="-1"><a class="header-anchor" href="#_1-远程端口转发到本地-参数-l"><span>1. 远程端口转发到本地（参数 <code>-L</code>）</span></a></h2><ul><li><p>有的时候在服务器上开启了一个端口服务（例如：Jupyter Lab），可是只能通过服务器上的 <code>127.0.0.1</code> 或 <code>localhost</code>，才能访问。</p><div class="language-txt line-numbers-mode" data-highlighter="shiki" data-ext="txt" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-txt"><span class="line"><span>$ jupyter lab</span></span>
<span class="line"><span>To access the server, open this file in a browser:</span></span>
<span class="line"><span>	file:/home/asparagus/.local/share/jupyter/runtime/jpserver-15584-open.html</span></span>
<span class="line"><span>Or copy and paste one of these URLs:</span></span>
<span class="line"><span>	http://localhost:8888/lab?token=97615e2aa2e9841decfe56e87419a11202c2ccb5a2e8f340</span></span>
<span class="line"><span>    http://127.0.0.1:8888/lab?token=97615e2aa2e9841decfe56e87419a11202c2ccb5a2e8f340</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>总不能为这碟醋而包个饺子，在远程服务器上装个桌面环境（ Gnome、KDE 等）或者窗口管理器（ i3wm、sway、niri 等），以及笨重的浏览器、VNC服务吧！毕竟可能没有 <code>root</code> 权限或者服务器资源有限。</p></li><li><p>此外，从安全的角度考虑，如果这些服务的端口直接暴露到公网上（0.0.0.0），确实是方便我们访问了，但有潜在的风险——总有些吃饱了撑的人会挂个脚本，日夜午休爆破你的端口。</p></li><li><p>聪明的做法则是把对应端口通过 <code>ssh</code> 安全的转发到本地主机的 <code>127.0.0.1</code> 或 <code>localhost</code> 上，通过本地主机的浏览器来访问：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 推荐额外添加 -N 与 -T 参数，这样就不会进入ssh的交互界面了</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 注意：需要保持当前终端一直开启，不要关闭</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 在本地电脑上:</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">ssh</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -NTL</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 127.0.0.1:8888:127.0.0.1:8888</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 远程服务器上的账户名@远程服务器的IP</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 语法：-L [本地监听地址:]本地端口:远端地址:远端端口</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 第一个127.0.0.1和8888是你本地电脑的回环ip与端口，如果端口冲突可以换成别的</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 第二个127.0.0.1和8888是你远程服务器的回环ip与端口，根据你想转发的具体服务来调整（这里即我远程运行的 Jupyterlab 服务）</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>之后在你的本地电脑上打开浏览器，输入之前对应的网址（例如我的：<code>http://localhost:8888/lab?token=97615e2aa2e9841decfe56e87419a11202c2ccb5a2e8f340</code>），就可以安全访问啦。</p><p><img src="https://r2-hugo.dudleya.cc/03_Linux/ssh_forwarding_jupyterlab.png" alt="ssh_forwarding_jupyterlab"></p></li></ul><h2 id="_2-本地端口转发到远程-参数-r" tabindex="-1"><a class="header-anchor" href="#_2-本地端口转发到远程-参数-r"><span>2. 本地端口转发到远程（参数 <code>-R</code>）</span></a></h2><ul><li><p>既然能把端口从远程服务器转发到本地主机，那反过来是不是也可以呢？（同样也是为了安全考虑）</p></li><li><p>记得我当初开发网站的时候，由于囊中羞涩，使用的云服务器都是很小的配置，根本跑不了完整的生信流程，更不用说在此基础上开发类似于 <code>Galaxy</code> 那样的在线分析平台了。</p></li><li><p>毕竟给我的网站上域名怎么也得有个公网 IP 吧（ <code>Cloudflare Tunnel</code> 除外）。</p></li><li><p>于是我脑中灵机一动，可不可以在本地服务器运行具体的生信分析流程，远程服务器只作为公网上的“传话筒”，将用户通过域名访问的相关操作，传递到性能较好但没有公网 IP 的本地服务器上呢？</p></li><li><p>答案当然是肯定的，之前准备计算机设计比赛时我就用到了 <code>-R</code> 这个参数，将本地服务器上的 <!----> <code>Flask</code> 后端服务转发到远程服务器进行访问。</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 推荐额外添加 -N 与 -T 参数，这样就不会进入ssh的交互界面了</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 同样的，也要保持当前终端一直开启，不要关闭</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 在本地电脑上:</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">ssh</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -NTR</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 127.0.0.1:8000:127.0.0.1:8000</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 远程服务器上的账户名@远程服务器的IP</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 语法：-R [远程监听地址:]远程端口:本地地址:本地端口</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 第一个127.0.0.1和8000是你远程服务器的回环ip与端口，如果端口冲突可以换成别的</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 第二个127.0.0.1和8000是你本地服务器的回环ip与端口，根据你想转发的具体服务来调整（这里即我本地运行的 Flask 后端服务）</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>然后在远程服务器上就可以访问本地的 <!----> <code>Flask</code> 了，最终使用 <!----> <code>NGINX</code> 给它上了域名，实现安全的公网访问。</p></li></ul><h2 id="_3-动态转发端口-参数-d" tabindex="-1"><a class="header-anchor" href="#_3-动态转发端口-参数-d"><span>3. &quot;动态转发端口&quot;（参数 <code>-D</code>）</span></a></h2><ul><li><p>有时候克隆 <code>Github</code> 仓库真的慢，即便使用第三方镜像，加速效果也不一定稳定。</p></li><li><p>还有下载一些服务器位于国外的文件，例如 <code>NCBI SRA</code> 的文件大多在亚马逊云上，国内下载速度也很感人。</p></li><li><p>别急，<code>ssh</code> &quot;端口三剑客&quot; 的最后一位可以来帮忙！</p></li><li><p><code>-D</code> 参数可以在本地主机开一个 <code>socks4/5</code> 端口（<span class="vp-plot"><!--[-->这不相当于是个梯子嘛<!--]--></span>），可以相对提高我们本地主机对国外网站的访问速度。</p></li><li><p>前提是需要租一台国外的服务器，装有 <code>openssh</code> 并且启用了 <code>sshd</code> 服务。</p></li><li><p>具体操作如下：</p><h3 id="_3-1-配置代理端口" tabindex="-1"><a class="header-anchor" href="#_3-1-配置代理端口"><span>3.1 配置代理端口</span></a></h3><ul><li><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 推荐额外添加 -N 与 -T 参数，这样就不会进入ssh的交互界面了</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 同样的，也要保持当前终端一直开启，不要关闭</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 在本地主机上:</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">ssh</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -NTD</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 1080</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 远程服务器上的账户名@远程服务器的IP</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="_3-2-安装-proxychains" tabindex="-1"><a class="header-anchor" href="#_3-2-安装-proxychains"><span>3.2 安装 <code>proxychains</code></span></a></h3><ul><li><p>接下来，该如何使用上面的 <code>socks5</code> 代理呢？</p></li><li><p>虽然像 <code>curl</code>、<code>git</code> 等工具本身就支持 <code>socks5</code> 代理，但还是有些软件不支持（ 如wget ），或者配置起来比较麻烦，所以我这里通过 <code>proxychains</code> 软件统一一下，使用时只需要在相关命令最前面添加 <code>proxychains</code> 及对应参数即可。</p></li><li><p>根据你的情况，选择下列其中一种方法：</p><h4 id="_3-2-1-使用-conda-mamba-安装" tabindex="-1"><a class="header-anchor" href="#_3-2-1-使用-conda-mamba-安装"><span>3.2.1 使用 <code>conda</code> / <code>mamba</code> 安装</span></a></h4><ul><li><p>假如你已经装了 <code>anaconda</code> / <code>miniconda</code> / <code>miniforge</code> / <code>mamba</code> / <code>micromamba</code>，可以直接去 <code>conda-forge</code> 频道安装。</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 安装步骤根据你的情况，三选一即可</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">## anaconda / miniconda</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">conda</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> install</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -c</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> conda-forge</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> proxychains-ng</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">## miniforge / mamba</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">mamba</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> install</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -c</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> conda-forge</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> proxychains-ng</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">## micromamba</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">micromamba</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> install</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -c</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> conda-forge</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> proxychains-ng</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 编辑配置文件</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">echo</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -e</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">[ProxyList]\nsocks5 127.0.0.1 1080</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &gt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ~/.local/proxychains.conf</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 测试（-q 参数简化相关输出）</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">proxychains4</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -q</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -f</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ~/.local/proxychains.conf</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> curl</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -s</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> https://api.ip.sb/geoip</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 检查输出，是否是你远程服务器的地区和ip</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 如果是，则说明成功啦</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 如果还是国内ip，则需要仔细排错一下咯</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h4 id="_3-2-2-编译安装" tabindex="-1"><a class="header-anchor" href="#_3-2-2-编译安装"><span>3.2.2 编译安装</span></a></h4><ul><li>假如你没有安装上述虚拟环境包管理器，可以通过编译安装（需要 gcc、make等工具链）。<div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 这里使用 kkgithub 镜像加速下载源代码</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">wget</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -c</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> https://kkgithub.com/rofl0r/proxychains-ng/releases/download/v4.17/proxychains-ng-4.17.tar.xz</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 解压后进入文件夹</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">tar</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> xvf</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> proxychains-ng-4.17.tar.xz</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">cd</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> proxychains-ng-4.17</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 最终将 proxychains 安装到 $HOME/.local/bin 路径</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">./configure</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --prefix=</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">$HOME</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">/.local</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 编译并安装</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">make</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> &amp;&amp;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> make</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> install</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 编辑配置文件</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">echo</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -e</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">[ProxyList]\nsocks5 127.0.0.1 1080</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &gt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ~/.local/proxychains.conf</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 测试（-q 参数简化相关输出）</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">proxychains4</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -q</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -f</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ~/.local/proxychains.conf</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> curl</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -s</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> https://api.ip.sb/geoip</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 检查输出，是否是你远程服务器的地区和ip</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 如果是，则说明成功啦</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 如果还是国内ip，则需要仔细排错一下咯</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h4 id="_3-2-3-系统级包管理器安装" tabindex="-1"><a class="header-anchor" href="#_3-2-3-系统级包管理器安装"><span>3.2.3 系统级包管理器安装</span></a></h4><ul><li><p>假如你有 <code>root</code> 权限，想装完让大家一起用的话：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 根据你的本地服务器发行版自行选择对应包管理器</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">## Debian系</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> apt</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> install</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> proxychains4</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">## Red Hat系</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> yum</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> install</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> proxychains-ng</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # CentOS</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> dnf</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> install</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> proxychains-ng</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # rhel、fedora等</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">## 其他的发行版请自行上网搜索，注意包名可能略有不同</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 编辑配置文件</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> vim</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /etc/proxychains.conf</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 将最后一行修改成 socks5 127.0.0.1 1080</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 测试（-q 参数简化相关输出）</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">proxychains4</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -q</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> curl</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -s</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> https://api.ip.sb/geoip</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 检查输出，是否是你远程服务器的地区和ip</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 如果是，则说明成功啦</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 如果还是国内ip，则需要仔细排错一下咯</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li></ul><h3 id="_3-3-使用-socks5-代理" tabindex="-1"><a class="header-anchor" href="#_3-3-使用-socks5-代理"><span>3.3 使用 <code>socks5</code> 代理</span></a></h3><ul><li><p>使用时只需要在相关命令最前面添加 <code>proxychains</code> 及对应参数即可。</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># -q 参数简化相关输出, -f 指定 proxychains 的配置文件</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">## git clone</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">proxychains4</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -q</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -f</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ~/.local/proxychains.conf</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> clone</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> https://github.com/vim/vim</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">## wget</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">proxychains4</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -q</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -f</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ~/.local/proxychains.conf</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> wget</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> https://github.com/vim/vim/archive/refs/heads/master.zip</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>当然，为了方便使用，可以添加一个 <code>alias</code> 到你的 shell 里面。</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 以 bash 为例</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">echo</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">alias pc=&#39;proxychains4 -q -f ~/.local/proxychains.conf&#39;</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &gt;&gt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ~/.bashrc</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">source</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ~/.bashrc</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 这样以后使用起来就方便啦~</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">pc</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> clone</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> https://github.com/vim/vim</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">pc</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> wget</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> https://github.com/vim/vim/archive/refs/heads/master.zip</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li></ul><h2 id="_4-尾声" tabindex="-1"><a class="header-anchor" href="#_4-尾声"><span>4. 尾声</span></a></h2><ul><li><p>当然，上述的 &quot;三剑客&quot; 其实局限性也很大，例如只能转发 TCP 端口、对 UDP 端口无效，需要前台一直挂着，不好配置常驻服务等。因此只适合临时使用。</p></li><li><p>日常开发中，我还是喜欢直接用 <code>VSCode</code> Remote SSH 插件中的 <a href="https://code.visualstudio.com/docs/remote/ssh#_forwarding-a-port-creating-ssh-tunnel" target="_blank" rel="noopener noreferrer">Port Forwarding</a>，免去了很多麻烦（端口冲突等）。</p></li><li><p>实际的生产环境中，<code>openssh</code> 的 <code>-L</code> 与 <code>-R</code> 参数可以被端口转发工具（如 <a href="https://gofrp.org/zh-cn/docs/" target="_blank" rel="noopener noreferrer"><code>frp</code></a> 等）或虚拟组网工具（如 <a href="https://www.wireguard.com/" target="_blank" rel="noopener noreferrer"><code>wireguard</code></a> 等）替代，以实现更加稳定的端口转发服务。而 <code>-D</code> 参数的替代品就不再展开讲了，毕竟懂得都懂，嘻嘻。</p></li><li><p>同样的，<code>sshd</code> 服务本身的端口也需要注意防护攻击：比如禁用 <code>root</code> 登录、仅允许使用密钥登录、部署 <code>fail2ban</code> 服务等，从而加强公网服务器自身的安全等级。</p></li><li><p>附录：<a href="https://man.openbsd.org/ssh" target="_blank" rel="noopener noreferrer">OpenSSH 官方手册</a></p></li></ul></div><!----><!----><!----></div></main><footer class="vp-doc-footer" data-v-90e52d01 data-v-53a6811a><!--[--><!--]--><!----><!----><nav class="prev-next" data-v-53a6811a><div class="pager" data-v-53a6811a><!----></div><div class="pager" data-v-53a6811a><a class="vp-link link pager-link next" href="/article/o6m8l6c3/" data-v-53a6811a><!--[--><span class="desc" data-v-53a6811a>下一页</span><span class="title" data-v-53a6811a>如何借用他人的虚拟环境？</span><!--]--><!----></a></div></nav></footer><div id="comment" class="giscus-wrapper input-top vp-comment" vp-comment style="display:block;" data-v-90e52d01><div style="display: flex;align-items: center;justify-content: center;height: 96px"><span style="--loading-icon: url(&quot;data:image/svg+xml;utf8,%3Csvg xmlns=&#39;http://www.w3.org/2000/svg&#39; preserveAspectRatio=&#39;xMidYMid&#39; viewBox=&#39;25 25 50 50&#39;%3E%3CanimateTransform attributeName=&#39;transform&#39; type=&#39;rotate&#39; dur=&#39;2s&#39; keyTimes=&#39;0;1&#39; repeatCount=&#39;indefinite&#39; values=&#39;0;360&#39;%3E%3C/animateTransform%3E%3Ccircle cx=&#39;50&#39; cy=&#39;50&#39; r=&#39;20&#39; fill=&#39;none&#39; stroke=&#39;currentColor&#39; stroke-width=&#39;4&#39; stroke-linecap=&#39;round&#39;%3E%3Canimate attributeName=&#39;stroke-dasharray&#39; dur=&#39;1.5s&#39; keyTimes=&#39;0;0.5;1&#39; repeatCount=&#39;indefinite&#39; values=&#39;1,200;90,200;1,200&#39;%3E%3C/animate%3E%3Canimate attributeName=&#39;stroke-dashoffset&#39; dur=&#39;1.5s&#39; keyTimes=&#39;0;0.5;1&#39; repeatCount=&#39;indefinite&#39; values=&#39;0;-35px;-125px&#39;%3E%3C/animate%3E%3C/circle%3E%3C/svg%3E&quot;);--icon-size: 48px;display: inline-block;width: var(--icon-size);height: var(--icon-size);background-color: currentcolor;-webkit-mask-image: var(--loading-icon);mask-image: var(--loading-icon)"></span></div></div><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!--]--><button type="button" class="vp-back-to-top" aria-label="back to top" data-v-c8986221 style="display:none;" data-v-d5b7d77f><span class="percent" data-allow-mismatch data-v-d5b7d77f>0%</span><span class="show icon vpi-back-to-top" data-v-d5b7d77f></span><svg aria-hidden="true" data-v-d5b7d77f><circle cx="50%" cy="50%" data-allow-mismatch style="stroke-dasharray:calc(0% - 12.566370614359172px) calc(314.1592653589793% - 12.566370614359172px);" data-v-d5b7d77f></circle></svg></button><footer class="vp-footer" vp-footer data-v-c8986221 data-v-b5561e68><!--[--><div class="container" data-v-b5561e68><p class="message" data-v-b5561e68>Power by <a target="_blank" href="https://v2.vuepress.vuejs.org/">VuePress</a> & <a target="_blank" href="https://theme-plume.vuejs.press">vuepress-theme-plume</a></p><!----></div><!--]--></footer><!--[--><!--]--><!--]--></div><!----><!--]--><!--[--><!--]--><!--]--></div><script type="module" src="/assets/app-CdJGwZO9.js" defer></script></body></html>